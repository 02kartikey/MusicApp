{% extends 'base.html' %}
{% block title %}Admin Dashboard{% endblock title %}

{% block styles %}
<link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet">
{% endblock styles %}

{% block main %}
{% include 'navbar.html' %}
<div class="container">
    <div class="row">
        <div class="col-xxl-3">
            <a href="{{ url_for('all_users') }}">
                <div class="card card-dash mt-5" style="width: 16rem; height: 13rem;">
                    <div class="card-body d-flex align-items-center">
                        <div class="col-xxl-12">
                            <div>
                                <h4 class="card-title text-center fs-2">Normal Users</h4>
                            </div>
                            <div class="">
                                <span class=" d-flex justify-content-center fs-4"><strong>{{ data['user_count'] }}</strong></span>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
            <a href="{{ url_for('all_users') }}">
                <div class="card card-dash mt-5" style="width: 16rem; height: 13rem;">
                    <div class="card-body d-flex align-items-center">
                        <div class="col-xxl-12">
                            <div>
                                <h4 class="card-title text-center fs-2">Creators</h4>
                            </div>
                            <div class="">
                                <span class=" d-flex justify-content-center fs-4"><strong>{{ data['creator_count'] }}</strong></span>
                            </div>
                        </div>
                    </div>
                </div>
            </a>
        </div>
        <div class="col-xxl-9">
            <div class=" mt-5">
                <h3>App Performances</h3>
            </div>
            <div>
                <div class="d-flex justify-content-around">
                    <a href="{{ url_for('all_tracks') }}">
                        <div class="card card-dash mt-2" style="width: 11rem; height: 10rem;">
                            <div class="card-body d-flex align-items-center">
                                <div class="col-xxl-12">
                                    <div>
                                        <h4 class="card-title text-center fs-3">Tracks</h4>
                                    </div>
                                    <div class="">
                                        <span class=" d-flex justify-content-center fs-5"><strong>{{ data['tracks_count'] }}</strong></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="{{ url_for('all_tracks') }}">
                        <div class="card card-dash mt-2" style="width: 11rem; height: 10rem;">
                            <div class="card-body d-flex align-items-center">
                                <div class="col-xxl-12">
                                    <div>
                                        <h4 class="card-title text-center fs-3">Albums</h4>
                                    </div>
                                    <div class="">
                                        <span class=" d-flex justify-content-center fs-5"><strong>{{ data['albums_count'] }}</strong></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                    <a href="{{ url_for('all_tracks') }}">
                        <div class="card card-dash mt-2" style="width: 11rem; height: 10rem;">
                            <div class="card-body d-flex align-items-center">
                                <div class="col-xxl-12">
                                    <div>
                                        <h4 class="card-title text-center fs-3">Genre</h4>
                                    </div>
                                    <div class="">
                                        <span class=" d-flex justify-content-center fs-5"><strong>{{ data['genres'] }}</strong></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <div>
                <div class="card card-dash mt-5 d-flex">
                    <div class="card-body d-flex align-items-center">
                        <div class="col-xxl-12">
                            <p class=" d-flex justify-content-center fs-5">Popular Genres:</p>
                            <img src="data:image/png;base64,{{ data['genres_count_chart'] }}">

                            <p class=" d-flex justify-content-center fs-5">Top Rated Songs with Num of Likes:</p>
                            <img src="data:image/png;base64,{{ data['rating_likes_chart'] }}">

                            <p class=" d-flex justify-content-center fs-5">Top Rated Artists with Num of Songs:</p>
                            <img src="data:image/png;base64,{{ data['top_artists_chart'] }}">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock main %}